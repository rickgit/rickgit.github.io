
# OS

## 存储

磁盘（hdd）中，利用**磁性粒子蔟**磁极的不同来标记0,1，当磁头扫过盘面，通过感应电流就可以识别出不同状态，即读取数据；增强磁头的磁性，可以改变盘面记录单元的状态，实现写入数据。磁盘上的磁性物质被磁化了就表示1，未被磁化就表示0，因为磁性在断电后不会丧失，所以磁盘断电后依然能保存数据。
**机械磁盘容量**，磁盘的每一面被分为很多条磁道，即表面上的一些同心圆，越接近中心，圆就越小。而每一个磁道又按**512个字节**为单位划分为等分，叫做**扇区**。离盘心最远的地方是“0”磁道，向盘心方向依次增长为1磁道，2磁道，等等。硬盘数据的存放就是从最外圈开始。存储容量＝磁头数×磁道（柱面）数×每道扇区数×每扇区字节数（heads*cylinders*sectors*512）
理论上可以无限读写
影响**存取速度**的主要因数为转速


固态盘中，在存储单元晶体管的栅（Gate）中，注入不同数量的电子，通过改变栅的导电性能，改变晶体管的导通效果，实现对不同状态的记录和识别。固态盘写入，就是改变晶体管里栅中电子数目的过程。读出，就是向晶体管施加电压，获取不同导通状态，对应识别存储数据的过程。闪存(NAND Flash)作为永久性存储器，Flash的最小存储单元是晶浮栅晶体管，对应于磁盘中的一个bit的存储单元。**Flash颗粒**,见[NAND闪存颗粒结构及工作原理](https://www.bbsmax.com/A/gAJGb4y1zZ/)
```
每个page容量为4096Byte + 128Byte（SA区）。每个Block由64个page组成，所以每个Block容量为262,114Byte + 8192Byte （SA区）。Page是NAND Flash上最小的读取/写入（编程）单位（一个Page上的单元共享一根字符线Word line），Block是NAND Flash上最小的擦除单位。8Gb 50nm的SLC芯片，4KB+128字节的页大小，256KB+8KB的块大小。图中每个页内4096字节用于存储数据，另外128字节用于管理和ECC等。
```
SLC可以接受10万次级的擦写，而MLC材料只能接受万次级擦写操作。
SSD对晶体管进行编写和擦除来记录数据，意味着晶体管体积越小，其物理结构越薄弱，编写和擦除的次数与大体积的晶体管对比则寿命相应减少。在消费级的SSD开始流行19NM的工艺，但企业级的SSD依然维持在25NM甚至40NM的原因。SLC(Single-Level Cell)单层式存储每个存储单元（晶体管）仅能储存1bit数据，同样，MLC(Multi-Level Cell)可储存2bit数据，TLC(Trinary-Level)可储存3bit数据。



[机械硬盘存储原理](https://www.cnblogs.com/yogurtwu/p/9396287.html)
[作者：晓静](https://www.zhihu.com/question/19586041/answer/12370929) 
《深入理解计算机系统.原书第三版》

**内存**是用RAM芯片，芯片的构成是由很多**P/N节**（二极管）构成，P/N节的作用就是接通和断开的作用。例如0代表P，1代表N


## 系统读取
文件系统不是一个扇区一个扇区的来读数据，太慢了，所以有了**block（块）**（Windows成为簇）的概念，它是一个块一个块的读取的，block才是文件存取的最小单位。